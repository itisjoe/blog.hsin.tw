<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>iOS &#8211; [lifeIs: tooShort to: waste]</title>
	<atom:link href="https://itisjoe.github.io/blog.hsin.tw/tag/ios/feed/" rel="self" type="application/rss+xml" />
	<link>https://itisjoe.github.io/blog.hsin.tw/</link>
	<description></description>
	<lastBuildDate>Fri, 16 Nov 2018 10:07:01 +0000</lastBuildDate>
	<language>zh-TW</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.8</generator>
	<item>
		<title>[電子書] Swift 起步走 更新至 Swift 3.0</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2016/%e9%9b%bb%e5%ad%90%e6%9b%b8-swift-%e8%b5%b7%e6%ad%a5%e8%b5%b0-%e6%9b%b4%e6%96%b0%e8%87%b3-swift-3-0/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2016/%e9%9b%bb%e5%ad%90%e6%9b%b8-swift-%e8%b5%b7%e6%ad%a5%e8%b5%b0-%e6%9b%b4%e6%96%b0%e8%87%b3-swift-3-0/#respond</comments>
		<pubDate>Tue, 25 Oct 2016 04:32:04 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[iosdev]]></category>
		<category><![CDATA[iPhone]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=1162</guid>
		<description><![CDATA[Swift 3.0 在 2016 年 9 月底推出正式版 隨即便開始進行電子書的更新 其實比我想像中的要麻煩些 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Swift 3.0 在 2016 年 9 月底推出正式版<br />
<span id="more-1162"></span></p>
<p>隨即便開始進行電子書的更新</p>
<p>其實比我想像中的要麻煩些 幾乎是每個章節都要修正的狀況</p>
<p>花了大概三個禮拜的時間 終於更新完畢</p>
<p>也一併更新至 <a href="http://bit.ly/29niTXU">Readmoo</a>、<a href="http://bit.ly/29aXCoe">Leanpub</a>、<a href="http://bit.ly/29njOYt">GitBook</a></p>
<p>GitBook 的 v1.1.0 ( Swift 3.0 ) 內容會提供至 2016 年 11 月底</p>
<p>2016 年 12 月之後 會調整為 v1.0.2 ( Swift 2.2 )</p>
<p>而 Readmoo 及 Leanpub 則一直會是最新版本</p>
<p>另外也花了一點時間做了一個簡單的 <a href="https://hsin.tw/swift-book/">Landing Page</a></p>
<p>裡面有購書及 FB 專頁的連結</p>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2016/%e9%9b%bb%e5%ad%90%e6%9b%b8-swift-%e8%b5%b7%e6%ad%a5%e8%b5%b0-%e6%9b%b4%e6%96%b0%e8%87%b3-swift-3-0/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>[電子書] Swift 起步走 &#8211; 從 Swift 基礎入門到實戰 iPhone App</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2016/swift-book-%e9%9b%bb%e5%ad%90%e6%9b%b8-swift-%e8%b5%b7%e6%ad%a5%e8%b5%b0-%e5%be%9e-swift-%e5%9f%ba%e7%a4%8e%e5%85%a5%e9%96%80%e5%88%b0%e5%af%a6%e6%88%b0-iphone-app/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2016/swift-book-%e9%9b%bb%e5%ad%90%e6%9b%b8-swift-%e8%b5%b7%e6%ad%a5%e8%b5%b0-%e5%be%9e-swift-%e5%9f%ba%e7%a4%8e%e5%85%a5%e9%96%80%e5%88%b0%e5%af%a6%e6%88%b0-iphone-app/#respond</comments>
		<pubDate>Fri, 01 Jul 2016 07:13:00 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[iPhone]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[Xcode]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=1087</guid>
		<description><![CDATA[2016 年 11 月更新 內容最新支援 Swift 3.0 你可以在這本書學習到最新的 Swift 知識 S [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>2016 年 11 月更新 內容最新支援 Swift 3.0 你可以在這本書學習到最新的 Swift 知識<br />
<span id="more-1087"></span><br />
<a href="https://hsin.tw/swift-book/">Swift 起步走 -- 從 Swift 基礎入門到實戰 iPhone App</a></p>
<p>你可以在以下電子書店找到這本書的最新版本：<br />
<a href="http://bit.ly/29niTXU"> Readmoo </a><br />
<a href="http://bit.ly/29aXCoe"> Leanpub </a></p>
<p>或是免費完整線上閱讀( v1.0.2 本版本使用 Swift 2.2 對應 iOS 9, Xcode 7.3 )：<br />
<a href="http://bit.ly/29njOYt"> GitBook </a></p>
<p><a href="https://www.ptt.cc">PTT</a> 佳評如潮<br />
<a href="https://www.ptt.cc/bbs/MacDev/M.1467180513.A.42B.html">https://www.ptt.cc/bbs/MacDev/M.1467180513.A.42B.html</a><br />
<a href="https://www.ptt.cc/bbs/MacDev/M.1477126422.A.A6A.html">https://www.ptt.cc/bbs/MacDev/M.1477126422.A.A6A.html</a></p>
<p>有任何問題或指教可以經由<a href="https://www.facebook.com/1640636382849659"> FB 專頁</a>功能告訴我</p>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2016/swift-book-%e9%9b%bb%e5%ad%90%e6%9b%b8-swift-%e8%b5%b7%e6%ad%a5%e8%b5%b0-%e5%be%9e-swift-%e5%9f%ba%e7%a4%8e%e5%85%a5%e9%96%80%e5%88%b0%e5%af%a6%e6%88%b0-iphone-app/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>[iOS Dev] 使用 UIImagePickerController 取得相簿照片</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-uiimagepickercontroller-get-photoalbum/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-uiimagepickercontroller-get-photoalbum/#respond</comments>
		<pubDate>Thu, 17 Dec 2015 06:10:39 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[iosdev]]></category>
		<category><![CDATA[iPhone]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=1051</guid>
		<description><![CDATA[內建的取得相簿功能 已經可以滿足一般只是要拿照片的需求 ▼ 首先在 .h 檔案中加入 delegate 以及詢 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>內建的取得相簿功能 已經可以滿足一般只是要拿照片的需求<br />
<span id="more-1051"></span><br />
▼ 首先在 .h 檔案中加入 delegate<br />
以及詢問相簿權限的 Photos library ( iOS9 以上)</p>
<pre class="brush: cpp; title: ; notranslate">
#import &lt;UIKit/UIKit.h&gt;
@import Photos;
@interface ViewController : UIViewController &lt;UINavigationControllerDelegate, UIImagePickerControllerDelegate&gt;
@end
</pre>
<p>▼ 開啟相簿功能</p>
<pre class="brush: cpp; title: ; notranslate">
//建立一個ImagePickerController
UIImagePickerController *imagePicker = [[UIImagePickerController alloc] init];

// 設定影像來源 這裡設定為相簿
imagePicker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;

// 設置 delegate
imagePicker.delegate = self;

// 設定選完照片後可以編輯
imagePicker.allowsEditing = YES;
    
// 顯示相簿
[self presentViewController:imagePicker animated:YES completion:nil];

</pre>
<p>上面顯示相簿後 就會進入內建的相簿介面<br />
接著選完照片後 如果 allowsEditing = YES 有設定<br />
還會有一個編輯的步驟<br />
▼ 完成後會帶著圖片返回 使用下面這個 delegate method</p>
<pre class="brush: cpp; title: ; notranslate">
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {
    
    // 取得編輯後的圖片 UIImage
    UIImage *img = [info objectForKey:UIImagePickerControllerEditedImage];
    if (img == nil) {
        // 如果沒有編輯 則是取得原始拍照的照片 UIImage
        img = [info objectForKey:UIImagePickerControllerOriginalImage];
    }
    
    // 再來就是對圖片的處理 img 是一個 UIImage
    imgView.image = img;
    
    //移除Picker
    [picker dismissViewControllerAnimated:YES completion:nil];
}
</pre>
<p>▼ iOS 9 之後 詢問相簿權限改成使用 PHPhotoLibrary</p>
<pre class="brush: cpp; title: ; notranslate">
PHAuthorizationStatus status = [PHPhotoLibrary authorizationStatus];
if ( status == PHAuthorizationStatusNotDetermined ) {
    // 尚未詢問使用者權限
} else if ( status == PHAuthorizationStatusRestricted ) {
    // restricted, 通常不會發生
} else if ( status == PHAuthorizationStatusDenied ) {
    // 使用者拒絕提供權限
} else if ( status == PHAuthorizationStatusAuthorized ) {
    // 已取得使用者權限
}
</pre>
<p>不過因為如果沒有取得權限<br />
進到原先要顯示相簿列表的地方<br />
會改成顯示 &#8220;提示使用者到 設定&gt;隱私權 打開權限&#8221; 的字樣<br />
所以我作的話是偷懶沒有設置確認權限XD</p>
<p>▼ 以上都設定完後 相簿介面應該是預設的英文<br />
如果相簿介面要設定多國語系 需要對 info.plist 作多國語系的處理<br />
詳細可參考 <a href="https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-localize-info-plist-infoplist-strings/">Localize info.plist 多國語系 InfoPlist.strings</a></p>
<p>我製作了一個 相簿 demo app 放在 <a href="https://github.com/itisjoe/PhotoAlbumDemo">github</a></p>
<p>ref:<br />
https://developer.apple.com/library/ios/documentation/Photos/Reference/PHPhotoLibrary_Class</p>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-uiimagepickercontroller-get-photoalbum/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>[iOS Dev] 利用 UIImagePickerController 使用相機拍照</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-uiimagepickercontroller-cemera/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-uiimagepickercontroller-cemera/#respond</comments>
		<pubDate>Wed, 16 Dec 2015 07:26:54 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[iosdev]]></category>
		<category><![CDATA[iPhone]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=1046</guid>
		<description><![CDATA[如果只是要有拍照功能 沒有特別客製化拍照介面需求 可以直接使用內建的功能 ▼ 首先在 .h 檔案中加入 del [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>如果只是要有拍照功能 沒有特別客製化拍照介面需求<br />
可以直接使用內建的功能<br />
<span id="more-1046"></span></p>
<p>▼ 首先在 .h 檔案中加入 delegate 以及詢問相機權限需要的 AVFoundation</p>
<pre class="brush: cpp; title: ; notranslate">
#import &lt;UIKit/UIKit.h&gt;
#import &lt;AVFoundation/AVFoundation.h&gt;
@interface ViewController : UIViewController &lt;UINavigationControllerDelegate, UIImagePickerControllerDelegate&gt;
@end
</pre>
<p>▼ 開啟相機功能</p>
<pre class="brush: cpp; title: ; notranslate">
//建立一個ImagePickerController
UIImagePickerController *imagePicker = [[UIImagePickerController alloc] init];

// 設定影像來源 這裡設定為相機
imagePicker.sourceType =  UIImagePickerControllerSourceTypeCamera;

// 設置 delegate
imagePicker.delegate = self;

// 設置拍照完後 可以編輯 會多一個編輯照片的步驟
imagePicker.allowsEditing = YES;

// 顯示相機功能        
[self presentViewController:imagePicker animated:YES completion:nil];

</pre>
<p>上面顯示相機功能後<br />
接著就是內建的介面了 拍照 -&gt; 編輯(如果有設定 allowsEditing 的話)<br />
然後會帶著照片返回頁面<br />
▼ 最後需要有這個 delegate method 來處理</p>
<pre class="brush: cpp; title: ; notranslate">
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {

    // 取得編輯後的圖片 UIImage
    UIImage *img = [info objectForKey:UIImagePickerControllerEditedImage];
    if (img == nil) {
        // 如果沒有編輯 則是取得原始拍照的照片 UIImage
        img = [info objectForKey:UIImagePickerControllerOriginalImage];
    }

    // 再來就是對圖片的處理 img 是一個 UIImage

    //移除Picker
    [picker dismissViewControllerAnimated:YES completion:nil];
}
</pre>
<p>▼ 現在要使用相機會先向使用者要求權限 會遇到的權限如下</p>
<pre class="brush: cpp; title: ; notranslate">
AVAuthorizationStatus authStatus = [AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeVideo];
if(authStatus == AVAuthorizationStatusAuthorized) {
  // 已取得使用者權限
} else if(authStatus == AVAuthorizationStatusDenied){
  // 使用者拒絕提供權限 可以作提示到設定中開啟
} else if(authStatus == AVAuthorizationStatusRestricted){
  // restricted, 通常不會發生
} else if(authStatus == AVAuthorizationStatusNotDetermined){
  // 尚未詢問要求權限 則提一個詢問
  [AVCaptureDevice requestAccessForMediaType:mediaType completionHandler:^(BOOL granted) {
    if(granted){
      NSLog(@&quot;Granted access to %@&quot;, mediaType);
    } else {
      NSLog(@&quot;Not granted access to %@&quot;, mediaType);
    }
  }];
}
</pre>
<p>▼ 以上都設定完後 相機介面應該是預設的英文<br />
如果相機介面要設定多國語系 需要對 info.plist 作多國語系的處理<br />
詳細可參考 <a href="https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-localize-info-plist-infoplist-strings/">Localize info.plist 多國語系 InfoPlist.strings</a></p>
<p>因為模擬器沒有相機功能 所以只能使用實機測試</p>
<p>我製作了一個 相機 demo app 放在 <a href="https://github.com/itisjoe/CameraDemo">github</a></p>
<p>ref:<br />
http://furnacedigital.blogspot.tw/2011/12/uiimagepickercontroller-camera.html<br />
http://stackoverflow.com/questions/20464631/detect-permission-of-camera-in-ios</p>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-uiimagepickercontroller-cemera/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>[iOS Dev] 使用 ContactsUI 取得聯絡人資訊</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-contactsui-get-contact/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-contactsui-get-contact/#comments</comments>
		<pubDate>Tue, 15 Dec 2015 09:17:50 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[iosdev]]></category>
		<category><![CDATA[iPhone]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=1040</guid>
		<description><![CDATA[iOS9 之後提供了新的通訊錄 framework : Contacts.framework 跟 Contac [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>iOS9 之後提供了新的通訊錄 framework : Contacts.framework 跟 ContactsUI.framework<br />
<span id="more-1040"></span><br />
Contacts.framework 沒有 UI 需要自己建立介面<br />
ContactsUI.framework 則提供了與內建通訊錄一樣的介面 沒有特別需求的話用這個即可</p>
<p>這邊介紹 ContactsUI.framework 的用法</p>
<p>首先要先引入 ContactsUI.framework 並加入 delegate<br />
▼ 在 .h 檔案中</p>
<pre class="brush: cpp; title: ; notranslate">
#import &lt;UIKit/UIKit.h&gt;
@import ContactsUI;
@interface ViewController : UIViewController &lt;CNContactPickerDelegate&gt;
@end
</pre>
<p>▼ 開啟通訊錄聯絡人列表</p>
<pre class="brush: cpp; title: ; notranslate">
// init
CNContactPickerViewController * picker = [[CNContactPickerViewController alloc]init];

// 設置 delegate
picker.delegate = self;

// 限制顯示的聯絡人屬性 只取得電話號碼
picker.displayedPropertyKeys = @[CNContactPhoneNumbersKey];

// 僅影響多選聯絡人的 delegate methods
picker.predicateForSelectionOfProperty = [NSPredicate predicateWithFormat:@&quot;(key == 'emailAddresses') OR (key == 'phoneNumbers')&quot;];

// 顯示聯絡人列表
[self presentViewController:picker animated:YES completion:nil];
</pre>
<p>▼ delegate 主要有以下五個 methods 可以實作</p>
<pre class="brush: cpp; title: ; notranslate">
// 按下畫面右上角的取消時會觸發
- (void)contactPickerDidCancel:(CNContactPickerViewController *)picker {
}

/*
 * 單選 聯絡人
*/

// 在聯絡人列表時 點選其中一個聯絡人時會觸發
- (void)contactPicker:(CNContactPickerViewController *)picker didSelectContact:(nonnull CNContact *)contact {
}

// 在聯絡人內容頁面時 點選其中一個屬性時會觸發
- (void)contactPicker:(CNContactPickerViewController *)picker  didSelectContactProperty:(CNContactProperty *)contactProperty {
}

/*
 * 多選 聯絡人
*/

// 在聯絡人列表時 選取多個聯絡人時候觸發
// 會與前面說的 predicateForSelectionOfProperty 設定的條件比對 有符合才會取得
- (void)contactPicker:(CNContactPickerViewController *)picker didSelectContacts:(NSArray&lt;CNContact *&gt; *)contacts {
    for (CNContact *contact in contacts) {
        // phone number
        NSLog(@&quot;%@&quot;,contact.phoneNumbers.firstObject.value.stringValue);
        
        // email
        NSLog(@&quot;%@&quot;,contact.emailAddresses.firstObject.value);
    }
}

// 在聯絡人列表時 選取多個聯絡人時候觸發 
- (void)contactPicker:(CNContactPickerViewController *)picker didSelectContactProperties:(NSArray&lt;CNContactProperty *&gt; *)contactProperties {
}

</pre>
<p>後面四個 methods 只需要實作一個就好<br />
如果多選跟單選同時實作 單選會被忽略</p>
<p>▼ 這邊介紹單選聯絡人屬性時的 method</p>
<pre class="brush: cpp; title: ; notranslate">
// 在聯絡人內容頁面時 點選其中一個屬性時會觸發
- (void)contactPicker:(CNContactPickerViewController *)picker  didSelectContactProperty:(CNContactProperty *)contactProperty {
    // 這是點選的電話號碼
    CNPhoneNumber *thisnumber = contactProperty.value;
    // 轉成 NSString
    NSString *phoneNumber = thisnumber.stringValue;

    // 這位聯絡人的資訊
    CNContact *contact = contactProperty.contact;
    /* contact 中有很多資訊 其中幾項如下
        // 姓 NSString
        contact.familyName  
        // 名 NSString
        contact.givenName
        // 是否有照片 BOOL
        contact.imageDataAvailable 
        // 照片 NSData
        contact.imageData 
    */
}
</pre>
<p>我製作了一個 demo app 放在 <a href="https://github.com/itisjoe/ContactsUIDemo">github</a><br />
功能如下<br />
點選[從通訊錄取得]按鈕後 會開啟預設的通訊錄聯絡人列表介面<br />
點選一個聯絡人後 會進入該聯絡人詳細內容頁 (只顯示電話號碼)<br />
點選其中一個電話號碼後 會返回頁面<br />
並顯示姓名, 電話, 照片(如果有的話)</p>
<p>ref:<br />
http://m.blog.csdn.net/blog/Mamong/49623051</p>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-contactsui-get-contact/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
		</item>
		<item>
		<title>[iOS Dev] Localize info.plist 多國語系 InfoPlist.strings</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-localize-info-plist-infoplist-strings/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-localize-info-plist-infoplist-strings/#comments</comments>
		<pubDate>Fri, 11 Dec 2015 16:51:25 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[iosdev]]></category>
		<category><![CDATA[iPhone]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=1029</guid>
		<description><![CDATA[多年以來(?)的疑惑終於解開 首先開一個新專案 File &#62; New &#62; Project… 選擇  [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>多年以來(?)的疑惑終於解開<br />
<span id="more-1029"></span><br />
首先開一個新專案<br />
<strong>File &gt; New &gt; Project…</strong><br />
選擇 <strong>iOS &gt; Application &gt; Single View Application</strong></p>
<p>▼ 接著新增一個檔案 (位置都可以 我是放在最外面的目錄)<br />
<strong>File &gt; New &gt; File…</strong><br />
接著在 <strong>iOS &gt; Resource</strong> 選擇 <strong>Strings File</strong><br />
<img src="http://img.hsin.tw/201512/02.png"></p>
<p>▼ 檔名取作 <strong>InfoPlist</strong> (一定要這名字 大小寫也必須一樣)<br />
Targets 選擇要使用的 target<br />
(像如果有 widget 就可以依需求選擇主 app 跟 widget 的 target )<br />
<img src="http://img.hsin.tw/201512/03.png"></p>
<p>▼ 接著開啟這個檔案 (副檔名會是 strings 所以在左邊列表中會是 InfoPlist.strings )<br />
先填入 設定 app 名字</p>
<pre class="brush: cpp; title: ; notranslate">
&quot;CFBundleDisplayName&quot; = &quot;English Name&quot;;
</pre>
<p>等號左邊就是 info.plist 中會出現可以設定的名稱 右邊則是要顯示的名稱<br />
可以設定的名稱可以看這 <a href="https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html">Core Foundation Keys</a><br />
<img src="http://img.hsin.tw/201512/04.png"></p>
<p>▼ 接著拉開右邊側邊欄 點擊右方的 Localize&#8230; 按鈕 如下圖位置<br />
<img src="http://img.hsin.tw/201512/05.png"></p>
<p>▼ 會詢問要把原本的檔案轉成哪一個 我是選擇 Base (也就是預設的語言 English)<br />
<img src="http://img.hsin.tw/201512/06.png"></p>
<p>▼ 完成後 右側欄的 Localization 就會出現目前有的語言<br />
<img src="http://img.hsin.tw/201512/07.png"></p>
<p>▼ 接著要新增需要的語言 左側欄位點選專案 選擇 PROJECT 裡的專案名稱 注意是在 Info 頁籤裡面<br />
下面有一個 Localizations 點擊加號選擇要的語言<br />
我這邊是選擇 Chinese (Traditional, Taiwan) 在 other 裡面<br />
<img src="http://img.hsin.tw/201512/08.png"></p>
<p>▼ 再來會問你哪些檔案要 localize 可以看到剛剛建立的檔案 InfoPlist.strings 也在裡面<br />
<img src="http://img.hsin.tw/201512/09.png"></p>
<p>▼ 完成後 就可以看到左側欄裡的 InfoPlist.strings 變成了兩個檔案了 (看有幾個語言就會有幾個檔案)<br />
<img src="http://img.hsin.tw/201512/10.png"></p>
<p>▼ 接著就依序修改需要的文字 下圖即是改成中文名稱<br />
<img src="http://img.hsin.tw/201512/11.png"></p>
<p>這樣就完成了<br />
可以開始編譯測試看看<br />
記得最好先 Clean ( Product &gt; Clean ) 並把原先裝在手機(或模擬器)上的 app 刪掉</p>
<p>示範 app 放在 <a href="https://github.com/itisjoe/LangDemo">github</a></p>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-localize-info-plist-infoplist-strings/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>[iOS Dev] 建立一個有通知中心 widget 的 app (Notification Center, Today Extension Widget)</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-notification-center-widget-app-today-extension-widget/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-notification-center-widget-app-today-extension-widget/#respond</comments>
		<pubDate>Tue, 08 Dec 2015 10:29:52 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[iPad]]></category>
		<category><![CDATA[iPhone]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=1010</guid>
		<description><![CDATA[Point.1 首先建立一個 Project File &#62; New &#62; Project&#8230 [&#8230;]]]></description>
				<content:encoded><![CDATA[<h3 style="font-size:36px">Point.1</h3>
<p>首先建立一個 Project<br />
<strong>File &gt; New &gt; Project&#8230;</strong><br />
接著選擇 <strong>iOS &gt; Application &gt; Single View Application</strong><br />
<span id="more-1010"></span><br />
接著是 widget 的部份<br />
<strong>File &gt; New &gt; Target&#8230;</strong><br />
選擇 <strong>iOS &gt; Application Extension &gt; Today Extension</strong><br />
這裡設定的 Product Name 預設會是顯示在 widget title 的文字 (之後還可以更改)<br />
建立完成後 Xcode 會建立一個 new scheme 並問你要不要 Activate<br />
點選 Activate 即可</p>
<p>到這裡已經完成了一個簡單的 widget<br />
執行後可以在通知中心裡看到剛剛建立的內容<br />
以及預設的內容 :<br />
Hello World</p>
<h3 style="font-size:36px">Point.2</h3>
<p>因為預設的 widget 有使用 storyboard<br />
我比較習慣寫純程式碼<br />
所以這邊將設定改掉<br />
找到剛剛建立的 widget 目錄下 會有一個 info.plist<br />
在 NSExtension 裡面<br />
可以找到一個 NSExtensionMainStoryboard 將這行刪除<br />
接著在裡面增加一筆 NSExtensionPrincipalClass 並設成 TodayViewController (即建立 widget 後預設的 ViewController)</p>
<h3 style="font-size:36px">Point.3</h3>
<p>widget 跟 主 app 其實可以說是兩個獨立的 app<br />
所以需要有讓他們兩個溝通的工具<br />
即 App Groups</p>
<p>首先點選主 app 的 target<br />
接著點選 Capabilities 頁籤<br />
找到 App Groups 並開啟 (轉成 ON )<br />
接著新增一個 group<br />
這邊先設定成 group.fastUrlSharedDefaults<br />
新增後記得打勾</p>
<p>然後切換到 widget 的 target<br />
並在如上述同樣的位置<br />
打勾 group.fastUrlSharedDefaults</p>
<h4 style="font-size:30px">Point.3.1</h4>
<p>App Groups 設定完成後 測試看看 先是使用 NSUserDefaults<br />
▼ 在主 app 的 ViewController.m 中加入</p>
<pre class="brush: cpp; title: ; notranslate">
    NSString *valueToSave = @&quot;https://www.apple.com&quot;;
    NSUserDefaults *sharedDefaults = [[NSUserDefaults alloc] initWithSuiteName:@&quot;group.fastUrlSharedDefaults&quot;];
    [sharedDefaults setObject:valueToSave forKey:@&quot;url&quot;];
    [sharedDefaults synchronize];
</pre>
<p>▼ 在 widget 的 TodayViewController.m 加入</p>
<pre class="brush: cpp; title: ; notranslate">
    NSUserDefaults *sharedDefaults = [[NSUserDefaults alloc] initWithSuiteName:@&quot;group.fastUrlSharedDefaults&quot;];
    NSString *fastUrl = [sharedDefaults stringForKey:@&quot;url&quot;];
</pre>
<p>即可在 widget 中取得主 app 中設定的值</p>
<h4 style="font-size:30px">Point.3.2</h4>
<p>如果有其他不是純文字的檔案需要溝通<br />
則是需要使用 NSFileManager<br />
▼ 在各別的 ViewController.m 中加入</p>
<pre class="brush: cpp; title: ; notranslate">
    // 像是需要使用 SQLite 的檔案 myDB.db
    NSURL *appGroupDirectoryPath = [[NSFileManager defaultManager] 
    containerURLForSecurityApplicationGroupIdentifier:@&quot;group.fastUrlSharedDefaults&quot;];
    NSURL *dataBaseURL = [appGroupDirectoryPath URLByAppendingPathComponent:@&quot;myDB.db&quot;];

   // 或是圖檔也是一樣的情況
    NSURL *containerURL = [[NSFileManager defaultManager] 
    containerURLForSecurityApplicationGroupIdentifier:@&quot;group.fastUrlSharedDefaults&quot;];
    containerURL = [containerURL URLByAppendingPathComponent:@&quot;pic.png&quot;];
    UIImage *contents=[[UIImage alloc]initWithData:[NSData dataWithContentsOfURL:containerURL]];
</pre>
<p>即可獲得相同的檔案 後續則依照個別需求進行處理</p>
<p>▼▼<br />
這邊有一個小範例 Fast Url 只有一個功能<br />
在主 app 設定一個 url 則在通知中心會顯示這個 url<br />
點擊後會在 safari 中開啟這個 url<br />
原始碼放在 <a href="https://github.com/itisjoe/fasturl">github</a></p>
<h3 style="font-size:36px">一些片段的小技巧</h3>
<p>▼ widget 內容四周有不明的(?)空白空間 消除這些空白要在 widget 的 TodayViewController.m 中加入這個 method</p>
<pre class="brush: cpp; title: ; notranslate">
-(UIEdgeInsets) widgetMarginInsetsForProposedMarginInsets:(UIEdgeInsets)defaultMarginInsets {
    return UIEdgeInsetsZero;
}
</pre>
<p>▼ 設定 widget 的高度, 在 widget 的 TodayViewController.m 中</p>
<pre class="brush: cpp; title: ; notranslate">
- (void)viewDidLoad {
    [super viewDidLoad];

    // 寬度是固定的 不會有效果 所以這邊 x 填 0 即可, 高度就看需要多少 
    self.preferredContentSize = CGSizeMake(0, 100);
}
</pre>
<p>▼ 修改 widget 顯示的名稱<br />
在 info.plist 中找到 Bundle display name<br />
即可修改 widget title 顯示的名稱</p>
<p>▼ widget 中 使用 openURL</p>
<pre class="brush: cpp; title: ; notranslate">
    NSURL *url = [NSURL URLWithString:@&quot;https://www.apple.com&quot;];

    // 在 widget 中 無法使用這個方法 (會報錯誤)
    [[UIApplication sharedApplication] openURL:url];
    
    // 而是要使用這個方法
    [self.extensionContext openURL:url completionHandler:^(BOOL success) {
        NSLog(@&quot;fun=%s after completion. success=%d&quot;, __func__, success);
    }];
</pre>
<div style="font-size:16px">
https://developer.apple.com/library/prerelease/ios/documentation/Foundation/Reference/NSExtensionContext_Class/#//apple_ref/occ/instm/NSExtensionContext/openURL:completionHandler:</div>
<p>根據 Apple 的說法 這個方法只能使用在開啟主 app 的功能<br />
如果要開啟其他的 app 則在上架審查時 可能會有額外的檢查 以確保符合規則</p>
<p>主 app 中仍然要建立一個 URL Scheme 才能從 widget 回去主 app<br />
建立方式如下網址<br />
http://stackoverflow.com/questions/8201724/how-to-register-a-custom-app-opening-url-scheme-with-xcode-4</p>
<p>▼ widget 標題要使用多國語系的話 參考下面這篇文章<br />
<strong><a href="https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-localize-info-plist-infoplist-strings/">Localize info.plist 多國語系 InfoPlist.strings</a></strong></p>
<p>▼ 要佈署上 App store 或是 Ad Hoc 時<br />
記得主 app 跟 widget 要分別建立 Provisioning Profiles<br />
因為要把他們想成是兩個獨立且不同的 app<br />
所以同理 Bundle identifier 也不一樣<br />
但 widget 的必須是主 app 的 id 再接一節 id<br />
e.q.<br />
主 app id : tw.hsin.demo<br />
widget id : tw.hsin.demo.abcde   ( abcde 可以自己修改 但前面就要跟主 app 一樣)</p>
<div style="font-size:16px;margin-top:50px">
ref:<br />
https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/ExtensibilityPG/NotificationCenter.html<br />
https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/ExtensibilityPG/ExtensionCreation.html<br />
http://code.tutsplus.com/tutorials/ios-8-creating-a-today-widget--cms-22379<br />
http://tapadoo.com/2014/sharing-nsuserdefaults-between-your-app-and-a-today-extension-on-ios-8/<br />
http://onevcat.com/2014/08/notification-today-widget/<br />
http://www.jianshu.com/p/0efd62ee033a<br />
http://stackoverflow.com/questions/25876171/ios-8-create-sqlite-database-for-app-group
</div>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2015/ios-dev-notification-center-widget-app-today-extension-widget/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>[iOS Dev] iOS 8 模擬器的 Documents 路徑</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2014/ios-dev-ios-8-simulator-documents-path/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2014/ios-dev-ios-8-simulator-documents-path/#respond</comments>
		<pubDate>Mon, 24 Nov 2014 08:47:22 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[Xcode]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=795</guid>
		<description><![CDATA[iOS 8 模擬器的路徑又跟 7 之前的地方不一樣了 其中的英數亂碼是不一樣的 請找找看 如果手上同時只有一個 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>iOS 8 模擬器的路徑又跟 7 之前的地方不一樣了<br />
<span id="more-795"></span></p>
<pre class="brush: cpp; title: ; notranslate">
~/Library/Developer/CoreSimulator/Devices/C19601EB-1504-4DA2-8CCF-0897F27D8F74/data/Containers/Data/Application/DF92E14E-E7F7-914C-658E-E728293341E6/Documents/
</pre>
<p>其中的英數亂碼是不一樣的<br />
請找找看<br />
如果手上同時只有一個專案的話<br />
用時間來找可能比較快</p>
<pre class="brush: cpp; title: ; notranslate">
NSLog(@&quot;%@&quot;,[[[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask] lastObject]);
</pre>
<p>或是在程式裡直接印出來路徑</p>
<p>ref: http://stackoverflow.com/questions/25198840/document-directory-path-of-ios-8-beta-simulator</p>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2014/ios-dev-ios-8-simulator-documents-path/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>[iOS Dev] 將iAD廣告放入APP中</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2014/ios-dev-integrate-iad-banners-into-your-app/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2014/ios-dev-integrate-iad-banners-into-your-app/#comments</comments>
		<pubDate>Sun, 31 Aug 2014 11:36:30 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[iAD]]></category>
		<category><![CDATA[iOS]]></category>
		<category><![CDATA[iPad]]></category>
		<category><![CDATA[iPhone]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=784</guid>
		<description><![CDATA[步驟其實比ADMob還簡單 首先要把收錢的帳戶搞定 (其實也可以最後做 反正要做就是了) 到 iTunes C [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>步驟其實比ADMob還簡單<br />
<span id="more-784"></span></p>
<p>首先要把收錢的帳戶搞定 (其實也可以最後做 反正要做就是了)<br />
到 iTunes Connect 網站中<br />
進入到 Contracts, Tax, and Banking<br />
有一行的 Contract Type 為 iAd App Network<br />
將以下這三個 Contact Info, Bank Info, Tax Info 都個別按下 Set Up<br />
並跟著步驟完成<br />
這跟你賺到錢後要把錢匯到哪裡有關係<br />
這篇文章就不詳述了</p>
<p>接著進入程式部分</p>
<p>1.<br />
在左側的 Project Navigator 中點選你的Project (藍藍的)<br />
再點選TARGETS中的專案<br />
標籤選擇 General<br />
在 Linked Frameworks and Libraries 這個部分 (應該是在最下面)<br />
點選加號後<br />
找到 iAd.framework (可以按搜尋 iAd 後 就會出現了)<br />
點這個後按 add<br />
便加入成功</p>
<p>2.<br />
在 ViewController.h 中<br />
import .h檔案並加上 delegate</p>
<pre class="brush: cpp; title: ; notranslate">
// import iAd
#import &lt;iAd/iAd.h&gt;

// 加上 delegate
@interface viewController : UIViewController &lt;ADBannerViewDelegate&gt;
@end

</pre>
<p>3.<br />
接著在 ViewController.m 中<br />
先給 banner 一個變數<br />
然後在 viewDidLoad 中將 banner 設定好<br />
最後在 delegate 的 methods 中設定顯示或隱藏 banner </p>
<pre class="brush: cpp; title: ; notranslate">

@interface viewController (){
// 變數
    ADBannerView *bannerView_;
}
@end

@implementation viewController

- (void)viewDidLoad
{
    [super viewDidLoad];

// 設定 banner 的位置及長寬 這邊是放在底部
    bannerView_ = [[ADBannerView alloc] initWithFrame:CGRectMake(0, self.view.frame.size.height - 50, 320, 50)];
    bannerView_.delegate = self;
    // 預設為隱藏 load成功後再在 delegate 的 method 中顯示
    bannerView_.alpha = 0.0;
    [self.view addSubview:bannerView_];
}

// 這個是 delegate 的 method , load完後會呼叫
-(void)bannerViewDidLoadAd:(ADBannerView *)banner{
    NSLog(@&quot;Ad Banner did load ad.&quot;);
    // Show the ad banner.
    [UIView animateWithDuration:0.5 animations:^{
        bannerView_.alpha = 1.0;
    }];
}

// 這個是 delegate 的 method , 如果失敗或有 error 會呼叫
-(void)bannerView:(ADBannerView *)banner didFailToReceiveAdWithError:(NSError *)error{

    NSLog(@&quot;Unable to show ads. Error: %@&quot;, [error localizedDescription]);

    // Hide the ad banner.
    [UIView animateWithDuration:0.5 animations:^{
        bannerView_.alpha = 0.0;
    }];
}
@end

</pre>
<p>這樣就完成了<br />
run 後會出現 iAd 相關的畫面<br />
上架之後就會有正式的廣告了</p>
<p>報表這邊看<br />
<a href="https://iad.apple.com/itcportal/#app_homepage">https://iad.apple.com/itcportal/#app_homepage</a></p>
<p>以上</p>
<p>ref:<br />
<a href="http://codewithchris.com/iad-tutorial/">http://codewithchris.com/iad-tutorial/</a><br />
<a href="http://www.cocoachina.com/industry/20140701/8998.html">http://www.cocoachina.com/industry/20140701/8998.html</a></p>
<p>===題外話 發牢騷===<br />
原本是用 ADMob 的<br />
但我的 google adsense 不知道為啥就被停權了<br />
因為是連動的<br />
所以連帶也把我的 ADMob 也停了&#8230;<br />
乾&#8230;<br />
後來又換新帳號<br />
但前幾天又被停！<br />
乾乾乾！！<br />
所以不爽用了！！！<br />
老子不爽用 ADMob 了！！<br />
乾～～～！</p>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2014/ios-dev-integrate-iad-banners-into-your-app/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>[iOS Dev] Google AdMob 6.4.2 無法正常顯示在iphone模擬器上</title>
		<link>https://itisjoe.github.io/blog.hsin.tw/2013/ios-dev-admob-display-in-simulator/</link>
		<comments>https://itisjoe.github.io/blog.hsin.tw/2013/ios-dev-admob-display-in-simulator/#respond</comments>
		<pubDate>Mon, 24 Jun 2013 10:07:27 +0000</pubDate>
		<dc:creator><![CDATA[hsin]]></dc:creator>
				<category><![CDATA[iOS Dev]]></category>
		<category><![CDATA[admob]]></category>
		<category><![CDATA[iOS]]></category>

		<guid isPermaLink="false">https://itisjoe.github.io/blog.hsin.tw/?p=732</guid>
		<description><![CDATA[目前遇到狀況的版本是 6.4.2 未來的版本可能會更新這個問題 (這個問題大概蠢到都懶得更正?) 所有東西都照 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>目前遇到狀況的版本是 6.4.2 <span id="more-732"></span><br />
未來的版本可能會更新這個問題<br />
(這個問題大概蠢到都懶得更正?)</p>
<p>所有東西都照步驟做好 要在模擬器上跑的時候卻跑不出來<br />
console 出現下面這個提示</p>
<pre class="brush: cpp; title: ; notranslate">
//
&lt;Google&gt; To get test ads on this device, call: request.testDevices = [NSArray arrayWithObjects:@&quot;GAD_SIMULATOR_ID&quot;, nil];
//
</pre>
<p>但照他寫的碼做 仍然跑不出來<br />
因為他寫錯了&#8230;<br />
其實是下面這樣 這個GAD_SIMULATOR_ID 應該是個定義好的常數才對</p>
<pre class="brush: cpp; title: ; notranslate">
//
request.testDevices = [NSArray arrayWithObjects:GAD_SIMULATOR_ID, nil];
//
</pre>
<p>改成這樣後 測試的AD就會出現在模擬器上<br />
但那個提示仍然會出現&#8230; (眼神死)<br />
不過這樣其實就ok了</p>
<p>ref: <a href="http://www.xhaleera.com/index.php/2013/05/04/google-admob-6-4-1-testing-devices-with-ios-6/" target="_blank">google-admob-6-4-1-testing-devices-with-ios-6</a></p>
]]></content:encoded>
			<wfw:commentRss>https://itisjoe.github.io/blog.hsin.tw/2013/ios-dev-admob-display-in-simulator/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
